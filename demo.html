<!DOCTYPE html>
<html>
<head>
  <title>樂透遊戲</title>
  <link rel="stylesheet" type="text/css" href="mystyle.css">
</head>
<body>
  <h1>樂透遊戲</h1>
  <h2>--遊戲規則如下--</h2>  <!--1-->
  <h3 id = "t3">您可在網頁上自行輸入 3 個號碼 (範圍是數字 1~10)，且值不得重複；當您輸入 3 個號碼並按下開獎按鈕後，系統會開始比對您輸入的號碼及得獎號碼 (不管排列先後順序)，全部對中時為頭獎，將獲得獎金1000元。若2 個號碼對中則為貳獎，將獲得獎金500元。若1 個號碼對中為參獎，將獲得獎金300元。若沒有號碼對中，則為沒中獎，亦沒有獎金。</h3>
  <p>請在下方輸入 3 個數字 (1-10)：</p>
  <input type="text" id="number1" placeholder="號碼1">
  <input type="text" id="number2" placeholder="號碼2">
  <input type="text" id="number3" placeholder="號碼3">
  <br>
  <button onclick="startGame()">開獎</button>
  <button onclick="resetGame()">重新開始</button>
  <p id="result"></p>
  
  <!--1-->
  <script>
    function startGame() {
      var number1 = parseInt(document.getElementById("number1").value);
      var number2 = parseInt(document.getElementById("number2").value);
      var number3 = parseInt(document.getElementById("number3").value);
      
      // 輸入檢查
      if (isNaN(number1) || isNaN(number2) || isNaN(number3) ||
          number1 < 1 || number1 > 10 ||
          number2 < 1 || number2 > 10 ||
          number3 < 1 || number3 > 10 ||
          number1 === number2 || number1 === number3 || number2 === number3) {
        alert("請輸入有效的、不重複的 1-10 之間的數字！");
        resetGame();
        return;
      }
      
      var winningNumbers = generateWinningNumbers();
      var matchedNumbers = checkNumbers(number1, number2, number3, winningNumbers);
      displayResult(matchedNumbers);
    }
    
    <!--1-->
    function generateWinningNumbers() {    
      var winningNumbers = [];
      
      while (winningNumbers.length < 3) {
        var number = Math.floor(Math.random() * 10) + 1;
        if (winningNumbers.indexOf(number) === -1) {
          winningNumbers.push(number);
        }
      }
      
      return winningNumbers;
    }
    
    <!--5-->
    function checkNumbers(number1, number2, number3, winningNumbers) {
      var matchedNumbers = 0;
      
      if (winningNumbers.indexOf(number1) !== -1) {
        matchedNumbers++;
      }
      
      if (winningNumbers.indexOf(number2) !== -1) {
        matchedNumbers++;
      }
      
      if (winningNumbers.indexOf(number3) !== -1) {
        matchedNumbers++;
      }
      
      return matchedNumbers;
    }
    
    <!--2-->
    function displayResult(matchedNumbers) {
      var resultElement = document.getElementById("result");
      
      if (matchedNumbers === 3) {
        resultElement.innerHTML = "中獎！恭喜你獲得頭獎！獲得獎金1000元!";
      } else if (matchedNumbers === 2) {
        resultElement.innerHTML = "中獎！恭喜你獲得貳獎！獲得獎金500元!";
      } else if (matchedNumbers === 1) {
        resultElement.innerHTML = "中獎！恭喜你獲得參獎！獲得獎金300元!";
      } else{
        resultElement.innerHTML = "沒中獎，再接再厲！";
      }
    }
    
    <!--5-->
    function resetGame() {
      document.getElementById("number1").value = "";
      document.getElementById("number2").value = "";
      document.getElementById("number3").value = "";
      document.getElementById("result").innerHTML = "";
    }
</script>
</body>
</html>

